#!/bin/sh
#
# Wrapper for the real binary the script is named after. Ensure that the binary will find 
# all the shared libraries it needs. If a shared library is not available from any
# of the standard system-wide locations, we provide it from the build
# directory.
#

# Use readlink only when necessary: some boxes don't have it, some boxes have
# one that does not support the -f option.
if [ -h "$0" ]; then
   this="`readlink -f "$0"`"
else
   this="$0"
fi

libdir_subdir=""
if [ "${libdir_subdir#@@}" = "VMWARE_LIBDIR_SUBDIR@@" ]; then
   libdir_subdir='/libdir'
fi

libdir="`dirname "$this"`""$libdir_subdir"

exec "$libdir"'/lib/wrapper-gtk24.sh' "$libdir"'/lib' "$libdir"'/bin/'`basename $this` \
     "$libdir"'/libconf' "$@"
