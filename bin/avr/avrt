#!/usr/bin/python

import os.path

from Cheetah.Template import Template


class MakeFile:
	def __init__(self,  mcu, programmer_mcu, project_name, source_files, \
			libs='', avrdude_programmer_id = 'stk500v2', port='/dev/ttyUSB0', \
			optimization = '0'):
	
		self.mcu = mcu
		self.programmer_mcu = programmer_mcu
		self.project_name = project_name
		self.source_files = source_files
		self.libs = libs
		self.optimization = optimization
		self.avrdude_programmerid = avrdude_programmer_id
		self.port = port

mcu = 'atmega32'
programmer_mcu = 'm32'
project_name = 'test'
source_files = "%s.c lcd.c" % project_name

make = MakeFile(mcu, programmer_mcu, project_name, source_files)

print Template(file = 'Makefile.tpl', searchList = [{'project': make}])
